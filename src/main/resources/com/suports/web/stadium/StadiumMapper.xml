<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.suports.web.mapper.StadiumMapper">

<resultMap id="result" type="hashmap">
  <id property="stadiumIndex" column="STADIUM_INDEX" />
  <result property="stadiumName" column="STADIUM_NAME"/>
  <result property="stadiumPhoto" column="STADIUM_PHOTO"/>
  <result property="stadiumInfo" column="STADIUM_INFO"/>
  <result property="areaName" column="AREA_NAME"/>
</resultMap>

<select id="selectStadiumList"  resultMap="result">
   SELECT @ROWNUM:=@ROWNUM+1 AS rownum,
           S.*
    FROM STADIUM S, (SELECT @ROWNUM:=0)TMP
    ORDER BY rownum DESC
    limit #{startRow}, #{pageSize};
  </select>
  <select id="countStadium" resultType="int">
    SELECT COUNT(*) FROM STADIUM
  </select>
  
  <select id="selectProductlists" resultMap="result"
	parameterType="com.suports.web.Proxy">
 	SELECT @ROWNUM:=@ROWNUM+1 COLOR,P.PRODUCT_NAME productName
			,S.SUPPLIER_NAME supplierID,P.UNIT,P.PRICE
	FROM PRODUCTS P JOIN SUPPLIERS S ON P.SUPPLIER_ID LIKE S.SUPPLIER_ID ,(SELECT @ROWNUM:=0)TMP
	WHERE P.PRODUCT_NAME LIKE #{search} 
		OR S.SUPPLIER_NAME LIKE #{search} 
		OR S.ADDRESS LIKE #{search}
		OR S.CITY LIKE #{search}
	limit #{startRow}, #{pageSize}
	  </select>	 
	
 	<select id="selectAllStadium" resultMap="result">
		SELECT STADIUM_NAME,STADIUM_INFO,STADIUM_PHOTO,A.AREA_NAME
		FROM STADIUM S JOIN AREA A
			ON S.AREA_INDEX LIKE A.AREA_INDEX;
	  </select>	  
	
	  
</mapper>